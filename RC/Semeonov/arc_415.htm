<HTML><HEAD>
<!-- Meta http equivalent was here                                     -->
<META NAME="keywords" CONTENT="arcnet



">
<TITLE>4.1.5 Локальные сети ArcNet</TITLE>
</HEAD>
<BODY background="gainsboro" tppabs="http://book.itep.ru/gainsboro" link="#0000FF">

<center>
<table BORDER="0" CELLSPACING="1" CELLPADDING="5" bgcolor="ghostwhite">
  <tr>
    <td VALIGN="TOP" bgcolor="steelblue" LINK="#0000FF"><p align="center">

<A HREF="can_414.htm" tppabs="http://book.itep.ru/4/41/can_414.htm">  <IMG ALIGN=BOTTOM ALT="previous" SRC="k_prev.jpg" tppabs="http://book.itep.ru/k_prev.jpg"></A>


<A HREF="eth_411.htm" tppabs="http://book.itep.ru/4/41/eth_411.htm">   <IMG ALIGN=BOTTOM ALT="up"   SRC="k_up.jpg" tppabs="http://book.itep.ru/k_up.jpg"></A>


<A HREF="apply_42.htm" tppabs="http://book.itep.ru/4/42/apply_42.htm"><IMG ALIGN=BOTTOM ALT="down" SRC="k_down.jpg" tppabs="http://book.itep.ru/k_down.jpg"></A>


<A HREF="fddi_416.htm" tppabs="http://book.itep.ru/4/41/fddi_416.htm"><IMG ALIGN=BOTTOM ALT="next" SRC="k_next.jpg" tppabs="http://book.itep.ru/k_next.jpg"></A>

<A HREF="intro1.htm" tppabs="http://book.itep.ru/1/intro1.htm">  <IMG ALIGN=BOTTOM ALT="index" SRC="k_indx.jpg" tppabs="http://book.itep.ru/k_indx.jpg"></A>
<BR>

<B> <FONT COLOR="white">Previous: </FONT></B>
<A HREF="can_414.htm" tppabs="http://book.itep.ru/4/41/can_414.htm"><FONT COLOR="lightblue">4.1.4 Сети    управления и сбора данных в реальном масштабе времени (CAN)</FONT></A>


<B><FONT COLOR="white">&nbsp;&nbsp; UP:</FONT> </B>
<A HREF="eth_411.htm" tppabs="http://book.itep.ru/4/41/eth_411.htm"><FONT COLOR="lightblue">4.1.1 Ethernet (IEEE 802.3)</FONT></A>
<BR>


<B><FONT COLOR="white"> Down:</FONT></B>
<A HREF="apply_42.htm" tppabs="http://book.itep.ru/4/42/apply_42.htm"><FONT COLOR="lightblue">4.2 Наложенные сети</FONT></A><BR>


<B><FONT COLOR="white">&nbsp; &nbsp; Next:</FONT></B>
<A HREF="fddi_416.htm" tppabs="http://book.itep.ru/4/41/fddi_416.htm"><FONT COLOR="lightblue">4.1.6 Сети FDDI</FONT></A>

</TD></TR>
<TR><TD ALIGN=CENTER>   
<FONT color="#0000FF" size=6><B>4.1.5 Локальные сети ArcNet</B></FONT><br>
<FONT size=3>Семенов Ю.А. (ГНЦ ИТЭФ)</FONT></p>

</TD></TR>
<TR><TD>
<!--new-->
<P ALIGN="CENTER"><IMG SRC="arcnet.jpg" tppabs="http://book.itep.ru/4/41/arcnet.jpg"></P>
<P ALIGN="justify">	ARCNET - (attached resource computing network - смотри также 
<a href="tppmsgs/msgs2.htm#243" tppabs="http://www.smc.com/network/arcnet">http://www.smc.com/network/arcnet</a>) представляет собой стандарт на локальные 
сети, разработанный корпорацией datapoint в 1977 году. Эта сеть базируется на идее маркерной шины и может позволить 
реализовать топологию шины, кольца или звезды при скорости обмена 2,5Мбит/с. Сеть строится вокруг активных и пассивных 
повторителей (HUB). Активные повторители (обычно 8-канальные) могут соединяться друг с 
другом, с пассивными повторителями/разветвителями и оконечными ЭВМ (рабочими станциями). Длина таких соединений, выполняемых 
93-омным коаксиальным кабелем (RG-62, разъемы BNC), может достигать 600м. Допускается применение скрученных пар (RS485) или оптического волокна. Пассивный 4-входовый повторитель позволяет подключать до трех рабочих станций кабелем длиной до 35 м, один из входов всегда занят соединением с активным повторителем. Пассивные повторители не могут соединяться друг с другом. Активные повторители могут образовывать иерархическую структуру. Максимальное число рабочих станций в сети равно 255. Предельная суммарная длина кабелей многосегментной сети составляет около 7 км. Схема соединений в сети arcnet показана на рис. 4.1.5.1 (пунктиром обозначены возможные связи с другими активными повторителями или маршрутизаторами).</p>

<p align="justify">В настоящее время разработан стандарт arcnet plus, рассчитанный на скорость обмена до 20 Мбит/с, совместимый с прежней версией. Новый стандарт позволяет строить сети с числом станций в 8 раз больше, чем старый. Если в сети присутствуют узлы, рассчитанные на разную скорость обмена, выбор полосы пропускания осуществляется при установлении связи. Соединение с другими сетями (например, Ethernet, Token Ring или Интернет) возможно через специальные шлюзы, мосты или маршрутизаторы.</p>

<p align="justify">Каждому узлу в сети присваивается уникальный адрес в диапазоне от 1 до 255. Стандарт arcnet поддерживает работу с пакетами двух длин: <253 или 506. Отличительной особенностью сети является низкая избыточность - заголовки пакетов имеют длину 3-4 байта. Все пакеты в arcnet начинаются с байта, содержащего единицы во всех разрядах. Всего в arcnet используется пять разновидностей пакетов:</p>

<ul>
<li>Пакет маркер (itt-приглашение). Рабочая станция, получившая такой пакет, может что-нибудь послать.</li>
<li>Запрос свободного буфера (FBE - free buffer enquire). Служит для выяснения возможности приема данных получателем.</li>
<li>Подтверждение получения (ACK), посылается в ответ на FBE при корректном приеме.</li>
<li>Отрицательное подтверждение (NAK), посылается в случае приема с ошибкой.</li>
<li>Пакет, содержащий информацию, адрес получателя, отправителя и контрольную сумму.</li></ul>

<p align="justify">Сеть Arcnet допускает фрагментацию (ANSI 878.2) сообщений и инкапсуляцию (ansi 878.3) пакетов, отвечающих требованиям других протоколов.</p>

<p align="center"><img src="image193.gif" tppabs="http://book.itep.ru/4/41/image193.gif"></p>
<p align="center">Рис. 4.1.5.1. Топологическая схема сети Arcnet</p>

<p align="justify">Все кадры начинаются с аппаратного заголовка и завершаются пользовательскими данными, в начале которых всегда присутствует программный заголовок. Между аппаратным и программным заголовками вводится заполнитель, обеспечивающий постоянство длин пакетов. Этот заполнитель удаляется интерфейсом так, что программа его не видит. </p>

<p align="justify">Короткие кадры могут содержать от 0 до 249 байт полезной информации. Длинные кадры могут нести от 253 до 504 байт. Для того, чтобы иметь возможность работать с кадрами, содержащими 250, 251 или 252 байт информации, введен специальный формат (exception). Форматы этих кадров ARCNET представлены на рис. 4.1.5.2.</p>

<p align="justify">Эти пакеты представлены так, как их видит программное прикладное обеспечение, по этой причине это представление иногда называется “буферным”. Пакеты в сети выглядят несколько иначе: идентификатор места назначения дублируется, заполнитель между полем смещения и идентификатором протокола вообще не пересылается. </p>

<p align="justify">arcnet позволяет делить длинные внешние пакеты или сообщения на ряд фрагментов, максимальное число которых может достигать 120. </p>

<p align="justify">Поле <i>флаг фрагментации</i> указывает на наличие фрагментации пакета. Не фрагментированные пакеты имеют этот флаг равный нулю. Для первого пакета фрагментированного сообщения этот флаг равен ((t-2)*2)+1, где t - полное число фрагментов.</p>

<p align="center"><img src="image194.gif" tppabs="http://book.itep.ru/4/41/image194.gif"></P>
<P ALIGN="CENTER">Рис. 4.1.5.2 Форматы кадров ARCNET</P>

<P ALIGN="JUSTIFY">Пакеты, несущие в себе последующие части сообщения, имеют в этом поле код равный ((N-1)*2), где N - номер фрагмента. Так пятый фрагмент сообщения будет содержать в поле <I>флага фрагментации</I> код 8. Принимающая станция может идентифицировать последний фрагмент сообщения, так как он будет иметь флаг фрагментации больше, чем у первого фрагмента. Значения <I>флага фрагментации</I> более 0xEE запрещены.</P>

<P ALIGN="JUSTIFY">Значение <I>флага фрагментации</I> 0xFF используется для пометки кадров специального формата (exception). Все фрагменты одного и того же сообщения имеют идентичные поля <I>номера по порядку</I>. </P>

<P ALIGN="JUSTIFY">IP и ARP-дейтограммы инкапсулируются в соответствующие ARCNET пакеты. Если длина дейтограмм превосходит 
504 октета, они делятся на фрагменты и пересылаются по частям. Взаимосвязь IP- и 8-битных ARCNET адресов осуществляется с 
помощью протокола ARP (см. RFC-826. Plammer D., “An Ethernet Address Resolution Protocol”, MIT, Nov. 1982).</P>

<P ALIGN="JUSTIFY">Можно устроить так, чтобы младшие 8 бит IP-адреса совпадали с ARCNET адресом. В этом случае ARP-протокол не потребуется. Но этот путь не рекомендуется, так как он менее гибок. Все широковещательные и мультикастинг IP-адреса должны соответствовать ARCNET-адресу 0.</P>

<P ALIGN="JUSTIFY">Корпорация Datapoint использует следующие идентификаторы протоколов: 212 (десятичное) для IP, 213 - для ARP и 214 - для протокола RARP. </P>
<P ALIGN="JUSTIFY">Сети ARCNET отличаются дешевизной, простотой установки и эксплуатации. За последнее время в связи с резким удешевлением Ethernet-интерфейсов это преимущество несколько нивелировалось. Взаимодействие ARCNET и Интернет описано в документе STD-46.</P>






</TD></TR>

<TR bgcolor="steelblue"><TD VALIGN="TOP" bgcolor="steelblue" LINK="#0000FF"><P ALIGN="center">

<FONT color="white"><B> Previous: </B></FONT>
<A HREF="can_414.htm" tppabs="http://book.itep.ru/4/41/can_414.htm"><FONT COLOR="lightblue">4.1.4 Сети    управления и сбора данных в реальном масштабе времени (CAN)</FONT></A>



<FONT color="white"><B> &nbsp; &nbsp;UP:</B></FONT>
<A HREF="eth_411.htm" tppabs="http://book.itep.ru/4/41/eth_411.htm"><FONT COLOR="lightblue">4.1.1 Ethernet (IEEE 802.3)</FONT></A>


<BR>

<FONT color="white"><B>  Down:</B></FONT>
<A HREF="apply_42.htm" tppabs="http://book.itep.ru/4/42/apply_42.htm"><FONT COLOR="lightblue">4.2 Наложенные сети</FONT></A>



<FONT color="white"><B> &nbsp; &nbsp;Next:</B></FONT>
<A HREF="fddi_416.htm" tppabs="http://book.itep.ru/4/41/fddi_416.htm"><FONT COLOR="lightblue">4.1.6 Сети FDDI</FONT></A>

</TD>
  </TR>
</table>
</BODY>
</HTML>