<HTML><HEAD>
<!-- Meta http equivalent was here                                     -->
<META NAME="keywords" CONTENT="X.25
ISO 8208:1989
DTE
DCE
PAD

">
<TITLE>4.3.2 Протоколы сетей X.25</TITLE>
</HEAD>
<BODY background="gainsboro" tppabs="http://book.itep.ru/gainsboro" link="#0000FF">

<center>
<table BORDER="0" CELLSPACING="1" CELLPADDING="5" bgcolor="ghostwhite">
  <tr>
    <td VALIGN="TOP" bgcolor="steelblue" LINK="#0000FF"><p align="center">

<A HREF="iso_431.htm" tppabs="http://book.itep.ru/4/43/iso_431.htm">  <IMG ALIGN=BOTTOM ALT="previous" SRC="k_prev.jpg" tppabs="http://book.itep.ru/k_prev.jpg"></A>


<A HREF="wan_43.htm" tppabs="http://book.itep.ru/4/43/wan_43.htm">   <IMG ALIGN=BOTTOM ALT="up"   SRC="k_up.jpg" tppabs="http://book.itep.ru/k_up.jpg"></A>


<A HREF="inter_44.htm" tppabs="http://book.itep.ru/4/44/inter_44.htm"><IMG ALIGN=BOTTOM ALT="down" SRC="k_down.jpg" tppabs="http://book.itep.ru/k_down.jpg"></A>


<A HREF="isdn_433.htm" tppabs="http://book.itep.ru/4/43/isdn_433.htm"><IMG ALIGN=BOTTOM ALT="next" SRC="k_next.jpg" tppabs="http://book.itep.ru/k_next.jpg"></A>

<A HREF="intro1.htm" tppabs="http://book.itep.ru/1/intro1.htm">  <IMG ALIGN=BOTTOM ALT="index" SRC="k_indx.jpg" tppabs="http://book.itep.ru/k_indx.jpg"></A>
<BR>

<B> <FONT COLOR="white">Previous: </FONT></B>
<A HREF="iso_431.htm" tppabs="http://book.itep.ru/4/43/iso_431.htm"><FONT COLOR="lightblue">4.3.1 Эталонная сетевая модель ISO</FONT></A>


<B><FONT COLOR="white">&nbsp;&nbsp; UP:</FONT> </B>
<A HREF="wan_43.htm" tppabs="http://book.itep.ru/4/43/wan_43.htm"><FONT COLOR="lightblue">4.3 Региональные сети</FONT></A>
<BR>


<B><FONT COLOR="white"> Down:</FONT></B>
<A HREF="inter_44.htm" tppabs="http://book.itep.ru/4/44/inter_44.htm"><FONT COLOR="lightblue">4.4 Интернет</FONT></A><BR>


<B><FONT COLOR="white">&nbsp; &nbsp; Next:</FONT></B>
<A HREF="isdn_433.htm" tppabs="http://book.itep.ru/4/43/isdn_433.htm"><FONT COLOR="lightblue">4.3.3 Интегрированные сети ISDN</FONT></A>

</TD></TR>
<TR><TD ALIGN=CENTER>   
<FONT color="#0000FF" size=6><B>4.3.2 Протоколы сетей X.25</B></FONT><br>
<FONT size=3>Семенов Ю.А. (ГНЦ ИТЭФ)</FONT></p>

</TD></TR>
<TR><TD>
<!--new-->
<P ALIGN="JUSTIFY">В 1976 году был принят стандарт X.25, который стал основой всемирной системы PSPDN (Packet-Switched Public Data Networks), базирующейся на 7-уровневой модели ISO OSI. Стандарт X.25 был усовершенствован в 1984. X.25 - протокол (ISO 8208:1989; RFC-887, -1381, -1382, -1461, -1598, -1613), который определяет синхронный интерфейс между терминальным оборудованием (DTE - Data Terminal Equipment) и оборудованием передачи данных (DCE - Data Communication Equipment) для терминалов, работающих в пакетном режиме. По существу это протокол связи оборудования с сетью. Главный недостаток протокола X.25 - большие задержки отклика (типовое значение 0.6 сек). Терминалом может служить ЭВМ или любая другая система, удовлетворяющая требованиям X.25. Соединение DTE - DTE осуществляется через DCE. В протоколе X.25 DCE и DTE используют статистическое мультиплексирование с делением по времени. Одновременно могут реализовываться несколько обменных процессов. Схема взаимодействия DTE и DCE выглядит как:</P>

<P ALIGN="justify">DTE - <логический канал> - DCE <виртуальное соединение> - DCE - <логический канал> - DTE</p>

<p align="justify">Асинхронный старт-стопный терминал подключается к сети коммутации пакетов через пакетный адаптер данных <b>ПАД</b> (<b>PAD</b> - packet assemble/disassemble) и отвечает рекомендациям X.3, X.28 и X.29. Один ПАД обеспечивает интерфейс для 8, 16 или 24 асинхронных терминалов. Пакет данных состоит обычно из 128 байтов, которые передаются по адресу, содержащемуся в пакете. Но длина пакета может лежать в пределах 64-4096 байтов. Размер пакета также как и величина окна (число пакетов, принимаемых без подтверждения) определяются на фазе установления канала. Прежде чем пакет будет передан, необходимо установить связь между исходными ЭВМ/ПАД и адресуемыми ЭВМ/ПАД. Существуют два вида соединений: коммутируемый виртуальный канал (SVC) и постоянный виртуальный канал (PVC). Предусмотрены две процедуры доступа к каналу:</p>

<ul>
<li>Процедура доступа к каналу (LAP - link access procedure), в основе которой лежат симметричные операции режима асинхронного ответа (ARM - asynchronous response mode) протокола HDLC.</li>
<li>Балансная процедура доступа к каналу (LAPB - link access procedure balanced) на основе асинхронного балансного режима (ABM - asynchronous balanced mode) протокола HDLC. Сетевой уровень реализуется с использованием 14 различных типов пакетов. </li></ul>

<p align="justify">Виртуальный канал описывается в общем формате пакета, как "логический канал". Логический канал имеет идентификатор, состоящий из 12 бит. Этот идентификатор обычно состоит из номера группы (4 бита) и номера логического канала (8 бит). В группе может быть до 256 логических каналов (за исключением группы 0, которая может иметь только 255 логических каналов). Возможное число групп - 16, поэтому теоретически возможное число виртуальных каналов для каждого соединения x.25 равно 4095 (16x256-1).</p>

<p align="justify">Постоянный виртуальный канал (PVC - permanent virtual circuit) является аналогом выделенного канала.</p>

<p align="justify">Коммутируемый виртуальный канал (SVC - switched virtual circuit - напоминает традиционный телефонный вызов) реализует обмен данными. Имеются три типа коммутируемых виртуальных каналов, работающие в дуплексном режиме, но отличающиеся направлением устанавливаемых соединений: входящий SVC, двунаправленный SVC и выходящий SVC. Адресат каждого пакета распознается 
с помощью <i>идентификатора логического канала</i> (LCI) или <i>номера логического канала</i> (LCN).</p>

<p align="justify">SVC используются только на время соединения и становятся доступными для повторного использования после разъединения. Все типы пакетов, за исключением пакетов <b>запроса повторного пуска</b>, содержат идентификатор логического канала. Пакет <b>запрос соединения</b> в SVC является единственным типом пакетов, которые содержат адреса в соответствии с рекомендацией X.121.</p>

<p align="justify">Для установки выходящего соединения через svc ЭВМ выбирает логический канал 
с наибольшим номером в группе и посылает пакет <b>запрос соединения</b>, содержащий выбранный 
номер группы канала, адрес получателя (в соответствии с рекомендацией X.121) и в отдельных 
случаях свой собственный адрес. При установлении входящего соединения центр коммутации пакетов (ЦКП) выбирает свободный логический канал с наименьшим номером в группе каналов порта адресуемой ЭВМ и помещает этот логический номер группы и канала в пакет <b>входящий запрос соединения</b>. После того как соединение через svc установлено, ЭВМ направляют свои пакеты, используя номера своих логических групп/каналов, а ЦПК в сети осуществляет транспортировку пакетов и преобразование номеров логических групп/каналов. Как только установленное по svc логическое соединение разъединяется, номера логических групп/каналов на обоих концах соединения освобождаются и становятся доступными для повторного использования. Соответствие между ЦКП/портом, выделенным для терминального оборудования, адресами (согласно рекомендациям x.121) и номерами логических каналов известно в сети только ЦКП.</p>

<p align="justify">Выбор ЭВМ свободного канала с наибольшим номером при каждом выходящем соединении и выбор в ЦКП свободного канала с наименьшим номером для каждого входящего позволяют избежать конфликтов. С этой же целью используются две логические группы: одна только для входящих соединений, а другая только для выходящих. Перед подключением к сети пользователь должен определить, сколько pvc и svc требуется на каждую точку физического интерфейса x.25. Асинхронные терминалы подключаются к сети коммутации пакетов через встроенные или удаленные пакетные адаптеры данных (ПАД).</p>

<p align="justify">Встроенный ПАД обычно располагается вместе с ЦКП в его стойке. В этом случае каждый асинхронный терминал, расположенный в удаленном месте, подключается к своему встроенному ПАД через отдельный канал связи (протокол Х.28). В альтернативном случае удаленный ПАД 
(небольшое отдельное устройство) может быть расположен в удаленном месте и подключается к своему ЦКП через канал связи (X.25). С помощью удаленного ПАД к ЦКП подключается 8-16 асинхронных 
терминалов.</p>

<p align="justify">Встроенный ПАД может быть совместно использован несколькими терминалами, расположенными в различных местах, в то время как удаленный ПАД обслуживает терминалы, расположенные обычно в одном месте. Существует еще один аспект размещения ПАД, связанный с помехами в каналах связи и использованием протоколов. Удаленный ПАД подключается к ЦКП на канальном уровне в соответствии с рекомендацией X.25. В качестве протокола канала данных в 
рекомендации X.25 реализуется подмножество HDLC, обеспечивающее автоматическую повторную передачу данных в случае их искажения при возникновении помех в линии. Асинхронный терминал использует для диалога с групповым ПАД процедуры, описанные в рекомендации X.28, в которых не предусмотрена возможность повторной передачи в случае ошибки. Поэтому канал между синхронным терминалом и групповым ПАД не защищен от возникновения ошибок данных в результате линейных помех. Процедуры ПАД определены в рекомендациях МККТТ (см. 
приложение <a href="rec_101.htm" tppabs="http://book.itep.ru/10/rec_101.htm">10.1</a>).</p>

<ul>
<li>Рекомендация X.3: "Пакетный адаптер данных (ПАД) в сети передачи данных общего пользования".</li>
<li>Рекомендация X.28: "Интерфейс между терминальным оборудованием и оборудованием передачи данных 
(DCE) для старт-стопного оконечного оборудования, осуществляющего доступ к пакетному адаптеру 
данных в сетях общего пользования".</li>
<li>Рекомендация X.29: "Процедуры обмена управляющей информацией между терминальным оборудованием 
пакетного типа и пакетным адаптером (ПАД)".</li></ul>

<p align="justify">Основные функции ПАД соответствуют рекомендациям X.3:</p>

<ul>
<li>сборка символов (полученных от асинхронных терминалов) в пакеты;</li>
<li>разборка полей данных в пакетах и вывод данных на асинхронные терминалы;</li>
<li>управление процедурами установления виртуального соединения и разъединения, сброса и прерывания;</li>
<li>обеспечение механизма продвижения пакетов при наличии соответствующих условий, таких как заполнение пакета, получение символа (сигнала) на передачу пакета, истечение времени ожидания;</li>
<li>передача символов, включающих стартстопные сигналы и биты проверки на четность, по требованию подключенного асинхронного терминала;</li>
<li>обнаружение сигнала <b>разрыв соединения</b> от асинхронного терминала;</li>
<li>редактирование последовательностей команд ПАД.</li></ul>

<p align="justify">	В постоянном запоминающем устройстве ПАД хранятся параметры. Эти параметры могут быть установлены либо асинхронным терминалом, подключенным к ПАД, либо любой ЭВМ в сети, которая удовлетворяет условиям рекомендации X.29. В рекомендации X.29 МККТТ эти параметры названы управляющей информацией. Поэтому необходимо квалифицировать данные, проходящие между ЭВМ и ПАД, либо как управляющую информацию (сообщения ПАД), либо как собственно данные от асинхронного терминала.</p>

<p align="justify">Сеть X.25 предоставляет пользователю старт-стопного терминала средства, позволяющие выбрать параметры ПАД с заранее определенными значениями. Пользователь посылает в ПАД команду выбора профайла, которая включает идентификатор профайла. Этим определяется один из нескольких стандартных профайлов, хранящихся в ПАД.</p>

<p align="justify">Идентификатор профайла и параметр 11 ПАД (скорость терминала) включаются в "поле данных пользователя" пакетов типа <b>запрос соединения</b>, посылаемых ПАД. ЭВМ (ПАД) использует это поле, извлекая из него информацию о терминале, пославшем запрос.</p>

<p align="justify">Пакетный терминал является интеллектуальным устройством (например, ЭВМ, или внешним ПАД’ом), которое обеспечивает синхронный обмен с сетью на скорости 2400, 4800, 9600 бит/c или 48 Кбит/с, используя трехуровневый протокол X.25. Возможная схема подключения терминальных 
устройств к сети X.25 показана на рис. 4.3.2.1.</p>

<p align="justify">Из рисунка 4.3.2.1 видно, что подключение ЭВМ и другого терминального оборудования возможно как к встроенному, так и удаленному ПАД (протокол X.28), а также непосредственно к ЦКП (протокол X.25, X.29). Связи с удаленными объектами осуществляются через соответствующие модемы (на рисунке не показаны).</p>

<p align="justify">Для международного соединения необходимо указать код страны из трех цифр, а также набрать одну цифру 9 перед сетевым адресом пользователя. Таким образом, всего требуется не более 15 цифровых символов. Для установления коммутируемого соединения оператор вначале вручную набирает номер ПАД и ждет подтверждения соединения с телефонным узлом общего пользования. Как только соединение установлено, оператор набирает 12-символьный код "сетевого идентификатора пользователя". ПАД обеспечивает операцию эхо-контроля, которая позволяет оператору терминала визуально проверять данные, посылаемые в ПАД. Наиболее серьезным недостатком встроенного ПАД является отсутствие какого-либо линейного протокола, предусматривающего устранение ошибок в данных, посылаемых от ПАД к терминалу. В удаленном ПАД предусмотрена процедура восстановления ошибочных данных, однако он подключается к сети как "пакетный терминал". </p>

<p align="center"><img src="image264.gif" tppabs="http://book.itep.ru/4/43/image264.gif"></p>
<p align="center">Рис. 4.3.2.1. Возможная топология сети X.25</p>

<p align="justify">Сетевой адрес пользователя состоит из 12 десятичных цифр. 1-4 - идентификатор сети передачи данных (3 - страна, 4 - сеть); 5-12 - национальный номер (5-7 местная область, 8-12 - местный номер). Международная система адресации для систем передачи данных общего пользователя описана в рекомендациях X.121 международного комитета по телефонии и телеграфии. Каждое подключение к сети коммутации пакетов имеет свой национальный номер. Протокол X.25 не определяет технику маршрутизации пакетов по сети. Для целей управления в сетях X.25 используется протокол snmp и база данных MIB (как и в сетях Интернет). Три базовых уровня протокола X.25 и схема потоков информации отображены на рис. 4.3.2.2.</p>

<p align="justify">Для подключения по виртуальному каналу ЭВМ/ПАД посылается пакет (call request), содержащий сетевой адрес пользователя. После подтверждения соединения и передачи/приема данных виртуальное соединение может быть разорвано путем передачи пакета (clear request), инициатором в этом случае выступает удаленная ЭВМ. При невозможности установить связь clear request посылается сетью. Такой пакет содержит два информационных октета. Первый содержит код причины, второй является диагностическим кодом. Ниже в таблице 4.3.2.1 приведены коды причин ошибки.</p>

<b><p align="center">Таблица 4.3.2.1</b>. Коды причины ошибки</p>

<center> <table border=10 cellspacing=2 cellpadding=5 width=700 bgcolor="ghostwhite">
<tr><td width="19%" valign="top" bgcolor="gainsboro"><b><p>Код причины</b></td>
<td width="81%" valign="top" bgcolor="gainsboro"><b><p>Причина</b></td>
</tr>
<tr><td width="19%" valign="top"><font face="arial"><p>0x0</td>
<td width="81%" valign="top"><font face="arial"><p>Удаленный сброс (remote cleared)</font></td>
</tr>
<tr><td width="19%" valign="top"><font face="arial"><p>0x1</td>
<td width="81%" valign="top"><font face="arial"><p>Адресат занят (number busy)</font></td>
</tr>
<tr><td width="19%" valign="top"><font face="arial"><p>0x3</td>
<td width="81%" valign="top"><font face="arial"><p>Нелегальный запрос (invalid facility request)</font></td>
</tr>
<tr><td width="19%" valign="top"><font face="arial"><p>0x5</td>
<td width="81%" valign="top"><font face="arial"><p>Перегрузка сети (network congestion)</font></td>
</tr>
<tr><td width="19%" valign="top"><font face="arial"><p>0x9</font></td>
<td width="81%" valign="top"><font face="arial"><p>Нарушен порядок (out of order)</font></td>
</tr>
<tr><td width="19%" valign="top"><font face="arial"><p>0x11</font></td>
<td width="81%" valign="top"><font face="arial"><p>Ошибка при выполнении удаленной процедуры</font></td>
</tr>
<tr><td width="19%" valign="top"><font face="arial"><p>0xb</font></td>
<td width="81%" valign="top"><font face="arial"><p>Доступ блокирован (access barred)</font></td>
</tr>
<tr><td width="19%" valign="top"><font face="arial"><p>0xd</font></td>
<td width="81%" valign="top"><font face="arial"><p>Не доступно, нет в наличии (not obtainable)</font></td>
</tr>
<tr><td width="19%" valign="top"><font face="arial"><p>0x21</font></td>
<td width="81%" valign="top"><font face="arial"><p>Несовместимость у адресата (ошибка при выполнении удаленной процедуры)</font></td>
</tr>
<tr><td width="19%" valign="top"><font face="arial"><p>0x23</font></td>
<td width="81%" valign="top"><font face="arial"><p>Ошибка при выполнении местной процедуры</font></td>
</tr>
<tr><td width="19%" valign="top"><font face="arial"><p>0x29</font></td>
<td width="81%" valign="top"><font face="arial"><p>Сигнал быстрой выборки не воспринят (fast select not accepted)</font></td>
</tr>
</table></center> 

<p align="justify">Один физический канал связи X.25 может поддерживать несколько коммутируемых виртуальных каналов. Постоянный виртуальный канал подобен выделенной линии - обмен возможен в любой момент. X.25 определяет первые три уровня соединения открытых систем (см. рис. 4.3.2.2).</p>
<ol>
<li> - физический x.21 (X.21bis)</li>
<li> - канальный (HDLC - high data link communication - протокол высокого уровня управления каналом). Этот уровень и последующие реализуются программным образом.</li>
<li> - сетевой (пакетный)</li></ol>

<p align="justify"><b>X.21</b> - универсальный интерфейс между оконечным оборудованием (DTE) и 
аппаратурой передачи данных (DCE) для синхронного режима работы в сетях общего пользования. X.21bis 
– тоже, но для модемов, удовлетворяющих рекомендациям серии V. Для канального уровня используется 
подмножество протокола HDLC (являющегося развитием стандарта 
SDLC IBM), обеспечивающее возможность автоматической повторной передачи в случае возникновения ошибок в линии.</p>

<p align="center"><img src="image265.gif" tppabs="http://book.itep.ru/4/43/image265.gif"></p>
<p align="center">Рис. 4.3.2.2. <b>Три уровня X.25</p></b>

<p align="justify">Формат кадра для протокола HDLC показан на рис. 4.3.2.3 (байты передаются, начиная с младшего бита):</p>

<p align="center"><img src="image266.gif" tppabs="http://book.itep.ru/4/43/image266.gif"></p>
<p align="center">Рис. 4.3.2.3. Формат кадра X.25</p>

<p align="justify">Открывающий и закрывающий флаги для бит-ориентированного формата несут в себе код 0x7e. Когда не передается никакой информации, по каналу пересылается непрерывный поток флагов 01111110. Посылка более 6 единиц подряд воспринимается как флаг абортирования связи. Если необходимо передать информационную последовательность 01111110, после первых пяти единиц вводится 
дополнительный нуль, приемник восстанавливает истинную информацию, удаляя эти лишние нули. В случае байт-ориентированных кадров открывающий и завершающий флаги имеют по два байта [DLE (Символы кодов стандарта ISO 646-1973 (МТК-5, ГОСТ 13059-74). Здесь и далее используется русская 
терминология в соответствии со стандартом ГОСТ 26556-85, STX и DLE, ETX, соответственно, для информационного кадра и DLE, STX и DLE, ETX для управляющего]. Адрес в пакете X.25 занимает всего один байт, что определяет предельное число терминальных устройств, подключаемых к одному каналу. 
Кадр на уровне 2 имеет двухбайтовый заголовок, содержащий байт адреса и байт типа. Для нумерации кадров на уровне 2 используется 3 бита. При работе со скользящим окном откликов это позволяет иметь до 7 кадров в очереди. При использовании спутниковых каналов с большими задержками можно переходить в режим расширенной нумерации (7 бит), где длина очереди может достигать 128. Если удаленный партнер не способен работать в режиме расширенной нумерации, он отклонит запрос соединения. При работе в режиме расширенной нумерации возможно применение 3-байтовых заголовков вместо двухбайтовых.</p>

<p align="justify">Значения поля <i>идентификатора общего формата</i> (GFI - general format identifier) приведено в таблице 4.3.2.2. Бит 8 этого поля (Q) используется в информационных пакетах как индикатор уровня передаваемых данных. <i>Групповой номер логического канала</i> и <i>номер логического канала</i> присваиваются по соглашению с администрацией сети во время постановки на обслуживание. Поля <i>групповой номер логического канала</i> и <i>номер логического канала </i>присутствуют во всех пакетах кроме пакетов регистрации и повторного пуска, где они принимают нулевое значение.</p>

<p align="center"><b>Таблица 4.3.2.2</b>. Значения кодов идентификатора общего формата (GFI)</p>

<center> <table border=10 cellspacing=2 cellpadding=5 width=750 bgcolor="ghostwhite">
<tr><td width="59%" valign="top" bgcolor="gainsboro"><p align="justify">Тип пакета</td>
<td width="15%" valign="top" bgcolor="gainsboro"><p align="justify">Модуль нумерации</td>
<td width="24%" valign="top" colspan=4 bgcolor="gainsboro"><p align="center">Номера битов</td>
</tr>
<tr><td width="59%" valign="top"><p> </td>
<td width="15%" valign="top"><p> </td>
<td width="6%" valign="top"><p align="center">8</td>
<td width="6%" valign="top"><p align="center">7</td>
<td width="6%" valign="top"><p align="center">6</td>
<td width="6%" valign="top"><p align="center">5</td>
</tr>
<tr><td width="59%" valign="top"><p align="justify">Установка соединения</td>
<td width="15%" valign="top"><p align="center">8<BR>128</td>
<td width="6%" valign="top"><p align="center">0<BR>0</td>
<td width="6%" valign="top"><p align="center">x<BR>x</td>
<td width="6%" valign="top"><p align="center">0<BR>1</td>
<td width="6%" valign="top"><p align="center">1<BR>0</td>
</tr>
<tr><td width="59%" valign="top">
<p align="justify">Разрыв соединения, управление потоком, повторный пуск, регистрация, диагностика</td>
<td width="15%" valign="top"><p align="center">8<BR>128</td>
<td width="6%" valign="top"><p align="center">0<BR>0</td>
<td width="6%" valign="top"><p align="center">0<BR>0</td>
<td width="6%" valign="top"><p align="center">0<BR>1</td>
<td width="6%" valign="top"><p align="center">1<BR>0</td>
</tr>
<tr><td width="59%" valign="top"><p align="justify">Данные</td>
<td width="15%" valign="top"><p align="center">8<BR>128</td>
<td width="6%" valign="top"><p align="center">x<BR>x</td>
<td width="6%" valign="top"><p align="center">x<BR>x</td>
<td width="6%" valign="top"><p align="center">0<BR>1</td>
<td width="6%" valign="top"><p align="center">1<BR>0</td>
</tr>
<tr><td width="59%" valign="top"><p align="justify">Расширение</td>
<td width="15%" valign="top"><p align="center">-</td>
<td width="6%" valign="top"><p align="center">0</td>
<td width="6%" valign="top"><p align="center">0</td>
<td width="6%" valign="top"><p align="center">1</td>
<td width="6%" valign="top"><p align="center">1</td>
</tr>
</table></center> 

<p align="justify">x - бит может принимать значения 0 или 1.</p>
<p align="justify">Допустимые значения кодов в поле <i>тип пакета</i> приведены в таблице 4.3.2.3.</p>
<b><p align="center">Таблица 4.3.2.3</b>. Значения кодов тип пакета</p>

<center> <table border=10 cellspacing=2 cellpadding=5 width=600 bgcolor="ghostwhite">
<tr><td width="75%" valign="top" bgcolor="gainsboro"><p align="center">Тип пакета</td>
<td width="25%" valign="top" bgcolor="gainsboro"><p align="center">Октет 3</td>
</tr>
<tr><td width="75%" valign="top"><p align="justify">Биты</td>
<td width="25%" valign="top"><p align="center">8 7 6 5 4 3 2 1</td>
</tr>
<tr><td width="75%" valign="top"><p align="left">Запрос</td>
<td width="25%" valign="top"><p align="center">0 0 0 0 1 0 1 1</td>
</tr>
<tr><td width="75%" valign="top"><p align="left">Запрос принят</td>
<td width="25%" valign="top"><p align="center">0 0 0 0 1 1 1 1</td>
</tr>
<tr><td width="75%" valign="top"><p align="left">Запрос завершения</td>
<td width="25%" valign="top"><p align="center">0 0 0 1 0 0 1 1</td>
</tr>
<tr><td width="75%" valign="top"><p align="left">Подтверждение завершения</td>
<td width="25%" valign="top"><p align="center">0 0 0 1 0 1 1 1</td>
</tr>
<tr><td width="75%" valign="top"><p align="left">Данные</td>
<td width="25%" valign="top"><p align="center">x x x x x x x 0</td>
</tr>
<tr><td width="75%" valign="top"><p align="left">Прерывание</td>
<td width="25%" valign="top"><p align="center">0 0 1 0 0 0 1 1</td>
</tr>
<tr><td width="75%" valign="top"><p align="left">Подтверждение прерывания </td>
<td width="25%" valign="top"><p align="center">0 0 1 0 0 1 1 1</td>
</tr>
<tr><td width="75%" valign="top"><p align="left">Готовность к приему по модулю 8 (RR)</td>
<td width="25%" valign="top"><p align="center">x x x 0 0 0 0 1</td>
</tr>
<tr><td width="75%" valign="top">
<p align="left">Готовность к приему по модулю 128 (RR)</td>
<td width="25%" valign="top"><p align="center">0 0 0 0 0 0 0 1</td>
</tr>
<tr><td width="75%" valign="top">
<p align="left">Неготовность к приему по модулю 8 (RNR)</td>
<td width="25%" valign="top"><p align="center">x x x 0 0 1 0 1</td>
</tr>
<tr><td width="75%" valign="top">
<p align="left">Неготовность к приему по модулю 128 (RNR)</td>
<td width="25%" valign="top"><p align="center">0 0 0 0 0 1 0 1</td>
</tr>
<tr><td width="75%" valign="top">
<p align="justify">Запрос повторной установки</td>
<td width="25%" valign="top">
<p align="center">0 0 0 1 1 0 1 1</td>
</tr>
<tr><td width="75%" valign="top">
<p align="left">Подтверждение повторной установки</td>
<td width="25%" valign="top"><p align="center">0 0 0 1 1 1 1 1</td>
</tr>
<tr><td width="75%" valign="top">
<p align="left">Запрос повторного пуска</td>
<td width="25%" valign="top"><p align="center">1 1 1 1 1 0 1 1 </td>
</tr>
<tr><td width="75%" valign="top">
<p align="left">Подтверждение повторного пуска</td>
<td width="25%" valign="top"><p align="center">1 1 1 1 1 1 1 1</td>
</tr>
<tr><td width="75%" valign="top"><p align="left">Диагностика</td>
<td width="25%" valign="top"><p align="center">1 1 1 1 0 0 0 1</td>
</tr>
<tr><td width="75%" valign="top"><p align="left">Запрос регистрации</td>
<td width="25%" valign="top"><p align="center">1 1 1 1 0 0 1 1</td>
</tr>
<tr><td width="75%" valign="top"><p align="left">Подтверждение регистрации</td>
<td width="25%" valign="top"><p align="center">1 1 1 1 0 1 1 1</td>
</tr>
</table></center> 

<p align="justify">x - отмечет разряды, которые могут принимать значения 0 или 1.</p>
<p align="justify">Четырехбитовые поля <i>длина адреса отправителя</i> и <i>длина адреса получателя</i> 
характеризуют длины последующих полей переменной длины. Длина выражается в полуоктетах. Далее 
следуют соответствующие адреса. В каждом полуоктете записывается десятичная цифра адреса, при 
необходимости поле адреса дополняется нулями до целого числа октетов. Для пакетов установления 
связи кадры имеют формат, показанный на рис. 4.3.2.4.</p>

<p align="center"><img src="image267.gif" tppabs="http://book.itep.ru/4/43/image267.gif"></p>
<p align="center">Рис. 4.3.2.4. Формат кадра <i>запроса на соединение </i> 
и <i>соединение установлено</i></p>

<p align="justify">Поле <i>опции</i> содержит целое число октетов, но не более 109, следующее же поле может содержать до 128 байт. Опция типа <b>fast select</b> позволяет поместить до 64 байтов в информационном поле пользователя, во многих случаях этого оказывается достаточно и исключается необходимость переходить в режим пересылки данных.</p>

<p align="justify">Если вызываемое DTE не присылает сообщения <b>вызов принят</b> или <b>запрос 
завершения</b> (установление связи отвергнуто) за отведенное для этого время, процедура 
завершается и процессу, инициализировавшему запрос, присылается соответствующий код ошибки. При 
успешной обработке запроса (прислано сообщение <b>соединение установлено</b>) система переходит в 
режим обмена данными. DTE может в любой момент инициировать процедуру разрыва связи, послав 
сообщение <b>запрос завершения</b>. DCE сообщает о завершении соединения путем присылки пакета 
<b>индикация завершения,</b> на который DTE должно прислать отклик<b> подтверждение завершения</b>. 
Формат пакетов <b>запроса</b> и <b>подтверждения завершения</b> отображен на рис. 4.3.2.4. и 4.3.2.5. 
Байты 1 и 2 на рисунке 4.3.2.5 не показаны, так как они идентичны тому, что представлено на 
рис. 4.3.2.4.</p>

<p align="center"><img src="image268.gif" tppabs="http://book.itep.ru/4/43/image268.gif"></p>
<p align="center">Рис. 4.3.2.5. Формат пакетов запроса завершения</p>

<p align="justify">Коды <i>причины</i> завершения связи приведены в таблице 4.3.2.1. Однобайтовое поле <i>диагностический код</i> позволяет уточнить причину. В таблице 4.3.2.4 приведены коды причины повторного пуска. Формат пакетов подтверждения завершения представлен на рис. 4.3.2.6.</p>
<p align="center">Таблица 4.3.2.4. Коды причин повторного пуска</p></font>

<center><table border=10 cellspacing=2 cellpadding=5 width=600 bgcolor="ghostwhite">
<tr><td width="27%" valign="top" bgcolor="gainsboro"><b><p align="center">Код причины</b></td>
<td width="73%" valign="top" bgcolor="gainsboro"><b><p align="justify">Причина повторного пуска</b></td>
</tr>
<tr><td width="27%" valign="top"><p align="center">0x1</td>
<td width="73%" valign="top"><p align="justify">Ошибка локальной процедуры</td>
</tr>
<tr><td width="27%" valign="top"><p align="center">0x3</td>
<td width="73%" valign="top"><p align="justify">Перегрузка сети</td>
</tr>
<tr><td width="27%" valign="top"><p align="center">0x7</td>
<td width="73%" valign="top"><p align="justify">Сеть работоспособна</td>
</tr>
</table></center>

<p align="center"><img src="image269.gif" tppabs="http://book.itep.ru/4/43/image269.gif"></p>
<p align="center">Рис. 4.3.2.6. Формат пакетов подтверждения завершения</p>

<p align="justify">Для инициализации обмена информацией (первичного или повторного), а также для 
прерывания виртуальной связи и возвращения виртуальных каналов в исходное состояние используются 
<b>запросы повторного пуска</b> (и <b>подтверждение повторного пуска</b>). DTE может выдать 
<b>запрос повторного пуска</b> (к DCE) в любой момент времени, переводя логический канал в 
исходное состояние. DCE в ответ должно послать сообщение <b>подтверждение повторного пуска</b>. 
Инициатором повторного пуска может быть и dce, для этого оно посылает сообщение <b>индикация 
повторного пуска</b>. DTE в результате устанавливает логический канал в исходное состояние и 
посылает dce сообщение <b>подтверждение повторного пуска</b>. Форматы пакетов, несущих эти 
сообщения показаны на рис. 4.3.2.6 и 4.3.2.7. Эти пакеты не имеют полей группового номера 
логического канала и LCN (см. рис. 4.3.2.7 и .8). Процедура повторной установки во многом 
аналогична повторному пуску и используются всякий раз при выявлении сбоя, чтобы вернуть 
виртуальную связь или постоянный виртуальный канал в исходное состояние. </p>

<p align="center"><img src="image270.gif" tppabs="http://book.itep.ru/4/43/image270.gif"></p>
<p align="center">Рис. 4.3.2.7. Формат пакета запроса повторного пуска (слева) и повторной установки </p>

<p align="center">Таблица 4.3.2.5. Коды причин повторной установки</p>

<center> <table border=10 cellspacing=2 cellpadding=5 width=700 bgcolor="ghostwhite">
<tr><td width="79%" valign="top" bgcolor="gainsboro"><b><p align="left">Причина повторной установки</b></td>
<td width="21%" valign="top" bgcolor="gainsboro"><b><p align="center">Код причины</b></td>
</tr>
<tr><td width="79%" valign="top"><p align="left">Установка по инициативе dte</font></td>
<td width="21%" valign="top"><p align="center">0x0</td>
</tr>
<tr><td width="79%" valign="top"><p align="left">Повреждение постоянного виртуального канала</font></td>
<td width="21%" valign="top"><p align="center">0x1</td>
</tr>
<tr><td width="79%" valign="top"><p align="left">Ошибка при исполнении удаленной процедуры</td>
<td width="21%" valign="top"><p align="center">0x3</td>
</tr>
<tr><td width="79%" valign="top"><p align="left">Ошибка при выполнении локальной процедуры</td>
<td width="21%" valign="top"><p align="center">0x5</td>
</tr>
<tr><td width="79%" valign="top"><p align="left">Перегрузка сети</td>
<td width="21%" valign="top"><p align="center">0x7</td>
</tr>
<tr><td width="79%" valign="top"><p align="left">Удаленное DTE работоспособно (постоянный виртуальный канал)</td>
<td width="21%" valign="top"><p align="center">0x9</td>
</tr>
<tr><td width="79%" valign="top"><p align="left">Сеть работоспособна (постоянный виртуальный канал)</td>
<td width="21%" valign="top"><p align="center">0xf</td>
</tr>
<tr><td width="79%" valign="top"><p align="left">Несовместимость партнеров</td>
<td width="21%" valign="top"><p align="center">0x11</td>
</tr>
</table></center> 

<p align="justify">Партнер - получатель этого запроса должен прислать сообщение <b>подтверждение 
повторной установки </b>(рис. 4.3.2.8). При этом возможны потери информации (также как и в случае 
повторного пуска), так как некоторые пакеты, находящиеся в сети в момент реализации запроса 
повторной установки или повторного пуска будут потеряны.</p>

<p align="justify">Инициатором посылки запроса повторной установки может быть dte и dce. Коды 
причин повторной установки представлены в таблице 4.3.2.5.</p>

<p align="center"><img src="image271.gif" tppabs="http://book.itep.ru/4/43/image271.gif"></p>
<p align="center">Рис. 4.3.2.8. Формат пакета подтверждения повторного пуска (слева) и повторной установки (справа)</p>

<p align="justify">Пакеты данных передаются по постоянным виртуальным каналам или через виртуальные 
соединения после их создания. Пакеты данных распознаются по нулевому младшему биту (бит с номером 1) 
в третьем октете. Остальные биты этого октета используются для управления. Форматы пакетов данных 
показаны на рис. 4.3.2.9.</p>

<p align="justify">Информационное поле начинается с четвертого байта (при расширенной нумерации с 
пятого) и может иметь длину 16-4096, хотя в рекомендациях стандарта x.25 оговорена величина 128 
октетов. Если принимающая сторона не способна принять пакет данной длины, связь должна быть 
переустановлена, а стороне-инициатору соединения послано сообщение об ошибке. Каждому пакету 
<i>данные</i> присваивается порядковый номер N(S), значение которого при установлении соединения 
равно нулю.</p>

<p align="center"><img src="image272.gif" tppabs="http://book.itep.ru/4/43/image272.gif"></p>
<p align="center">Рис. 4.3.2.9. Форматы пакетов <b>данные</b>. Слева - по модулю 8, справа - по модулю 128</p>

<b><p align="justify">Q -</b>бит определяет тип кадра-пакета, <b>Q=1</b> - управляющий пакет для PAD, <b>Q=0</b> - информационный пакет. Бит <b>D</b> используется для запроса специального отклика на пакет со стороны удаленного конца виртуального канала. Бит <b>M</b> указывает на то, что данный пакет является частью более крупного пакета, который должен быть воссоздан позднее.</p>

<p align="justify">Индекс S (send) соответствует отправке, а индекс R - приему (receive). Если 
используется нумерация пакетов по модулю 8, N(S) занимает биты 2-4 включительно, при нумерации по 
модулю 128 для этого отводятся биты 2-8. Нумерация пакетов позволяет выявить потерю пакетов или 
изменение порядка их доставки. N(R) является номером пакета с принимающей стороны. Бит подтверждения 
доставки <b>D</b> (идентификатор формата) служит для указания 
необходимости сообщения о доставке данных получателем. Если D=1, то DTE обязано подтвердить доставку. 
Обязательность процедуры подтверждения определяется уже на фазе установления связи (сообщение 
<i>запрос на установление связи принят</i>). Если какой-либо узел по пути пересылки пакета не 
поддерживает процедуру подтверждения доставки, он пошлет сообщение <i>запрос завершения</i> 
(причина - <i>несовместимость у адресата</i>) и связь должна быть сформирована заново с учетом 
необходимости подтверждения во всех узлах-участниках. Размер поля данные в пакете может быть разным 
для разных узлов, участвующих в обмене. По этой причине число полученных пакетов может оказаться 
больше (или меньше) числа посланных. Для таких случаев предусмотрен флаг <b>m</b> (дополнительные 
данные). Возможность фрагментации и последующей сборки пакетов определяется управляющими битами M и 
D (см. таблицу 4.3.2.6). </p>

<b><p align="center">Таблица 4.3.2.6.</b> Управление фрагментацией и сборкой пакетов с помощью битов M и D</p>
<center> <table border=10 cellspacing=2 cellpadding=5 width=700 bgcolor="ghostwhite">
<tr><td width="10%" valign="top" bgcolor="gainsboro"><b><p align="center">Бит m</b></td>
<td width="10%" valign="top" bgcolor="gainsboro"><b><p align="center">Бит d</b></td>
<td width="80%" valign="top" bgcolor="gainsboro"><b><p>Выполнение объединения с последующим пакетом (реализуется сетью)</b></td>
</tr>
<tr><td width="10%" valign="top"><p align="center">0</td>
<td width="10%" valign="top"><p align="center">0</td>
<td width="80%" valign="top"><p align="center">Нет</td>
</tr>
<tr><td width="10%" valign="top"><p align="center">0</td>
<td width="10%" valign="top"><p align="center">1</td>
<td width="80%" valign="top"><p align="center">Нет</td>
</tr>
<tr><td width="10%" valign="top"><p align="center">1</td>
<td width="10%" valign="top"><p align="center">0</td>
<td width="80%" valign="top"><p align="center">Да</td>
</tr>
<tr><td width="10%" valign="top"><p align="center">1</td>
<td width="10%" valign="top"><p align="center">1</td>
<td width="80%" valign="top"><p align="center">Нет</td>
</tr>
</table></center>

<p align="justify">Таким образом, при фрагментации исходного сообщения все пакеты кроме последнего 
должны иметь бит m=1. Нумерация пакетов по модулю 8 означает, что им последовательно присваиваются 
номера 0,1,2,3,4,5,6,7,0,1,2 и т.д. Аналогично при нумерации по модулю 128 - 0,1,2,...127,0,1,2,3 
и т.д. Форма нумерации пакетов определяет также размер “окна”, то есть число пакетов, которые 
могут быть переданы, не дожидаюсь подтверждения получения. По умолчанию размер окна равен 2, 
другие значения могут быть согласованы на фазе установления соединения. Принцип использования 
окон при передаче пакетов более подробно описан в разделе “3.6.2 <a href="tcp_443.htm" tppabs="http://book.itep.ru/4/44/tcp_443.htm">
Протокол TCP”</a>.</p>

<p align="justify">Для управления процессом передачи данных используются сообщения “<b>готов к 
приему</b>” и “<b>не готов к приему</b>”. Форматы этих пакетов показаны на рис. 4.3.2.10 и 4.3.2.11.</p>

<p align="center"><img src="image273.gif" tppabs="http://book.itep.ru/4/43/image273.gif"></p>
<p align="center">Рис 4.3.2.10. Формат пакетов <b>готовность к приему</b> и <b>неготовность к приему</b> при нумерации по модулю 8.</p>

<p align="center"><img src="image274.gif" tppabs="http://book.itep.ru/4/43/image274.gif"></p>
<p align="center">Рис 4.3.2.11. Формат пакетов <b>готовность к приему</b> и <b>неготовность к приему</b> при нумерации по модулю 128.</p>

<p align="justify">Код N(R) на входе DCE должен лежать в пределах между N(R) последнего принятого пакета и N(S) следующего пакета, который должен быть послан из DCE к DTE. При невыполнении этого условия связь будет переустановлена и передача повторена. Пакеты <b>готовность к приему</b> используются для сообщения о готовности принять пакеты, с номерами, начиная с номера N(R), приведенного в пакете. Пакеты <b>неготовность к приему</b> служат для того, чтобы сообщить о временной неспособности принять данные. При поступлении этого сообщения отправитель должен прервать передачу до получения сообщения <b>готовность к приему</b>. DTE может передавать данные удаленному DTE, не следуя правилам управления потоком данных. Для реализации такой возможности предусмотрена операция прерывания. Эта операция не влияет на передачу данных и управление. Формат пакета <b>прерывание</b> и <b>подтверждение прерывания</b> показан на рис. 4.3.2.12.</p>

<p align="center"><img src="image275.gif" tppabs="http://book.itep.ru/4/43/image275.gif"></p>
<p align="center">Рис. 4.3.2.12. Формат пакетов <b>прерывание</b> и <b>подтверждение прерывания</b></p>

<p align="justify">Идентификатор формата равен 0x1 для нумерации по модулю 8 и 0x2 при нумерации по модулю 128. Передав сообщение <b>прерывание,</b> DTE должно ожидать получение пакета <b>подтверждение прерывания</b>. Максимальный размер поля <i>данные</i> <i>пользователя</i> в пакете прерывание не должен превышать 32 байт.</p>

<p align="justify">Иногда в сетях для сообщения об ошибке используется пакет “<b>диагностика</b>”. Этот пакет посылается DCE, адресуется DTE и несет информацию о неустранимых на уровне пакетов ошибках. Пакет <b>диагностика</b> посылается лишь один раз сразу после выявления ошибки. Подтверждения его получения не требуется. Формат пакета показан на рис. 4.3.2.13.</p>

<p align="center"><img src="43213.gif" tppabs="http://book.itep.ru/4/43/43213.gif"></p>
<p align="center">Рис. 4.3.2.13. Формат пакета <b>диагностика</p></b>

<p align="justify">Поле <i>код диагностики</i> несет в себе информацию об ошибке, вызвавшей посылку этого пакета. Если же пакет диагностика передается в качестве отклика на пакет с ошибками от DTE, то поле <i>уточнение диагностики</i> содержит первые три байта пакета DTE.</p>

<p align="justify">Современные сети создаются ради доступа к определенным услугам. В протоколе X.25 предусмотрена процедура, которая позволяет получить текущие значения параметров услуг (опций) и модифицировать их. Эта процедура называется регистрацией и не является обязательной. Форматы пакетов <b>запроса регистрации</b> и <b>подтверждения регистрации</b> показаны на рис. 4.3.2.14 и 4.3.2.15. Максимальный размер поля <i>регистрация</i> составляет 109 байт. Инициатором регистрации всегда является dte, которое передает запрос регистрации. В качестве отклика dce посылает пакет подтверждение регистрации, в котором содержатся информация о параметрах доступных услуг. Для выявления доступных услуг может быть послан <b>запрос регистрации</b>, не содержащий списка запрашиваемых услуг.</p>

<p align="center"><img src="image277.gif" tppabs="http://book.itep.ru/4/43/image277.gif"></p>
<p align="center">Рис. 4.3.2.14. Формат пакетов <b>запрос регистрации</p></b>

<p align="center"><img src="image278.gif" tppabs="http://book.itep.ru/4/43/image278.gif"></p>
<p align="center">Рис. 4.3.2.15. Формат пакетов <b>подтверждение регистрации</p></b>

<p align="justify">Получив список доступных услуг из сообщения <b>подтверждение регистрации,</b> </b> может поменять параметры некоторых из них. Если значение какого-либо параметра услуги (опции) не разрешено, DCE должно сообщить разрешенное значение параметра и максимальное и или минимальное разрешенное значение (в зависимости от того больше или меньше допустимого оказалось значение запрошенного параметра). </p>

<p align="justify">Неисправность сети может привести к тому, что та или иная согласованная ранее услуга станет недоступной. В этом случае DCE должно инициировать процедуру повторного пуска, чтобы уведомить DTE о случившихся изменениях.</p>

<p align="justify">Кроме процедуры регистрации к необязательным процедурам относятся услуги для замкнутой группы, идентификация пользователей сети, группа поиска, ускоренный обмен, переадресация вызовов, выбор транзитной сети, сообщения о модифицированном адресе, согласование параметров управления потоком и некоторые другие.</p>

<p align="justify">Повторная передача пакетов согласуется на определенное время и может использоваться во всех логических каналах DTE-DCE. DTE запрашивает повторную передачу одного или нескольких пакетов <b>данные</b> путем посылки сообщения <b>отказ</b> reject), которое определяет логический канал и порядковый номер пакета N(R). Получив пакет <i>отказ DCE</i>, DTE начинает 
повторную передачу пакетов. Формат пакетов <b>отказ</b> для случаев нумерации по модулю 8 и 128 показан на рис. 4.3.2.16.</p>

<p align="center"><img src="image279.gif" tppabs="http://book.itep.ru/4/43/image279.gif"></P>
<P ALIGN="CENTER">Рис. 4.3.2.16. Форматы пакетов типа <B>отказ</B> для нумерации по модулю 8 (слева) и 128</P>

<P ALIGN="JUSTIFY">	Программное обеспечение принимающей и передающей сторон должно иметь переменные состояния <B>V(R)</B> и <B>V(S),</B> содержащие, соответственно, номера пакетов, которые предстоит получить и послать (см. описание процедуры HDLC). После посылки очередного пакета с N(S) значение V(S) увеличивается на 1. Принимающая сторона сравнивает V(R) с N(S) полученного пакета, при совпадении укладывает N(S) в поле N(R) пакета-отклика и инкрементирует V(R). Отправитель при получении пакета проверяет равенство переменной V(S) и кода поля N(R) в пакете-отклике. Если при получении пакета выясняется, что V(R) не равно N(S), V(R) не инкрементируется, а принимающая сторона отправляет отклик с N(R)=V(R). Отправитель, получив этот отклик и обнаружив, что V(S) не равно N(R), узнает о происшедшем сбое. Номер логического канала (<B>LCN)</B> служит для того, чтобы определить соответствие межу DTE и местным DCE. LCN вместе с полем <I>группового номера логического канала</I> занимают 12 бит, что позволяет иметь до <B>4095</B> логических каналов (<B>LCN=0</B> зарезервировано для использования DCE).</P>

<P ALIGN="JUSTIFY">4 бита первого байта управляющего пакета содержат в себе код типа сообщения (таблица 4.3.2.7):</P>

<B><P ALIGN="CENTER">Таблица 4.3.2.7  Коды типов сообщений</P></B>
<CENTER> <TABLE BORDER=10 CELLSPACING=2 CELLPADDING=5 WIDTH=755 bgcolor="ghostwhite">
<TR><TD WIDTH="25%" VALIGN="TOP" bgcolor="gainsboro"><B><P ALIGN="CENTER">Код типа сообщения</B></TD>
<TD WIDTH="50%" VALIGN="TOP" bgcolor="gainsboro"><B><P ALIGN="JUSTIFY">Команда PAD</B></TD>
<TD WIDTH="25%" VALIGN="TOP" bgcolor="gainsboro"><B><P ALIGN="JUSTIFY">Отправитель</B></TD>
</TR>
<TR><TD WIDTH="25%" VALIGN="TOP"><P ALIGN="CENTER">0001</TD>
<TD WIDTH="50%" VALIGN="TOP"><P ALIGN="JUSTIFY">Команда разъединения</TD>
<TD WIDTH="25%" VALIGN="TOP"><P ALIGN="JUSTIFY">ЭВМ</TD>
</TR>
<TR><TD WIDTH="25%" VALIGN="TOP"><P ALIGN="CENTER">0010</TD>
<TD WIDTH="50%" VALIGN="TOP"><P ALIGN="JUSTIFY">Установление параметров</TD>
<TD WIDTH="25%" VALIGN="TOP"><P ALIGN="JUSTIFY">ЭВМ</TD>
</TR>
<TR><TD WIDTH="25%" VALIGN="TOP"><P ALIGN="CENTER">0011</TD>
<TD WIDTH="50%" VALIGN="TOP"><P ALIGN="JUSTIFY">Индикация разъединения</TD>
<TD WIDTH="25%" VALIGN="TOP"><P ALIGN="JUSTIFY">ЭВМ или PAD</TD>
</TR>
<TR><TD WIDTH="25%" VALIGN="TOP"><P ALIGN="CENTER">0100</TD>
<TD WIDTH="50%" VALIGN="TOP"><P ALIGN="JUSTIFY">Чтение параметров</TD>
<TD WIDTH="25%" VALIGN="TOP"><P ALIGN="JUSTIFY">ЭВМ</TD>
</TR>
<TR><TD WIDTH="25%" VALIGN="TOP"><P ALIGN="CENTER">0101</TD>
<TD WIDTH="50%" VALIGN="TOP"><P ALIGN="JUSTIFY">Ошибка</TD>
<TD WIDTH="25%" VALIGN="TOP"><P ALIGN="JUSTIFY">PAD</TD>
</TR>
<TR><TD WIDTH="33%" VALIGN="TOP"><P ALIGN="CENTER">0110</TD>
<TD WIDTH="50%" VALIGN="TOP"><P ALIGN="JUSTIFY">Установка и чтение параметров</TD>
<TD WIDTH="25%" VALIGN="TOP"><P ALIGN="JUSTIFY">ЭВМ</TD>
</TR>
</TABLE></CENTER> 

<P ALIGN="JUSTIFY">В поле управляющего сообщения PAD может быть включено любое число параметров, которое допускает максимальный размер пакета. Каждый параметр имеет свой код-номер, за которым в пакете следует значение параметра (таблица 4.3.2.8):</P>

<B><P ALIGN="CENTER">Таблица 4.3.2.8.</B> Коды параметров PAD</P>

<CENTER> <TABLE BORDER=10 CELLSPACING=2 CELLPADDING=5 WIDTH=750 bgcolor="ghostwhite">
<TR><TD WIDTH="15%" VALIGN="TOP" bgcolor="gainsboro"><P ALIGN="CENTER">Код параметра</B></FONT></TD>
<TD WIDTH="83%" VALIGN="TOP" bgcolor="gainsboro"><B><P ALIGN="JUSTIFY">Описание</B></TD>
</TR>
<TR><TD WIDTH="15%" VALIGN="TOP"><P ALIGN="CENTER">1</TD>
<TD WIDTH="83%" VALIGN="TOP"><P ALIGN="LEFT">Обращение к ПАД с использованием управляющего символа</TD>
</TR>
<TR><TD WIDTH="15%" VALIGN="TOP"><P ALIGN="CENTER">2</TD>
<TD WIDTH="83%" VALIGN="TOP"><P ALIGN="JUSTIFY">Эхо-контроль</TD>
</TR>
<TR><TD WIDTH="15%" VALIGN="TOP"><P ALIGN="CENTER">3</TD>
<TD WIDTH="83%" VALIGN="TOP"><P ALIGN="LEFT">Выбор сигнала посылки пакета</TD>
</TR>
<TR><TD WIDTH="15%" VALIGN="TOP"><P ALIGN="CENTER">4</TD>
<TD WIDTH="83%" VALIGN="TOP"><P ALIGN="LEFT">Выбор продолжительности ожидания для таймера</TD>
</TR>
<TR><TD WIDTH="15%" VALIGN="TOP"><P ALIGN="CENTER">5</TD>
<TD WIDTH="83%" VALIGN="TOP"><P ALIGN="LEFT">Управление вспомогательным устройством</TD>
</TR>
<TR><TD WIDTH="15%" VALIGN="TOP"><P ALIGN="CENTER">6</TD>
<TD WIDTH="83%" VALIGN="TOP"><P ALIGN="LEFT">Подавление управляющих сигналов ПАД</TD>
</TR>
<TR><TD WIDTH="15%" VALIGN="TOP"><P ALIGN="CENTER">7</TD>
<TD WIDTH="83%" VALIGN="TOP"><P ALIGN="LEFT">Выбор действий ПАД при получении сигнала разрыва</TD>
</TR>
<TR><TD WIDTH="15%" VALIGN="TOP"><P ALIGN="CENTER">8</TD>
<TD WIDTH="83%" VALIGN="TOP"><P ALIGN="LEFT">Прерывание вывода</TD>
</TR>
<TR><TD WIDTH="15%" VALIGN="TOP"><P ALIGN="CENTER">9</TD>
<TD WIDTH="83%" VALIGN="TOP"><P ALIGN="LEFT">Кодовая последовательность после сигнала "возврат каретки"</TD>
</TR>
<TR><TD WIDTH="15%" VALIGN="TOP"><P ALIGN="CENTER">10</TD>
<TD WIDTH="83%" VALIGN="TOP"><P ALIGN="LEFT">Перенос строки, длина которой ограничена размерами экрана дисплея</TD>
</TR>
<TR><TD WIDTH="15%" VALIGN="TOP"><P ALIGN="CENTER">11</TD>
<TD WIDTH="83%" VALIGN="TOP"><P ALIGN="JUSTIFY">Скорость работы старт-стопного терминала</TD>
</TR>
<TR><TD WIDTH="15%" VALIGN="TOP"><P ALIGN="CENTER">12</TD>
<TD WIDTH="83%" VALIGN="TOP"><P ALIGN="LEFT">Управление потоком ПАД</TD>
</TR>
<TR><TD WIDTH="15%" VALIGN="TOP"><P ALIGN="CENTER">13</TD>
<TD WIDTH="83%" VALIGN="TOP"><P ALIGN="LEFT">Вставка символа "перевод строки" после символа "возврат каретки"</TD>
</TR>
<TR><TD WIDTH="15%" VALIGN="TOP"><P ALIGN="CENTER">14</TD>
<TD WIDTH="83%" VALIGN="TOP"><P ALIGN="LEFT">Заполнение после сигнала "перевод строки"</TD>
</TR>
<TR><TD WIDTH="15%" VALIGN="TOP"><P ALIGN="CENTER">15</TD>
<TD WIDTH="83%" VALIGN="TOP"><P ALIGN="LEFT">Редактирование</TD>
</TR>
<TR><TD WIDTH="15%" VALIGN="TOP"><P ALIGN="CENTER">16</TD>
<TD WIDTH="83%" VALIGN="TOP"><P ALIGN="LEFT">Стирание символа</TD>
</TR>
<TR><TD WIDTH="15%" VALIGN="TOP"><P ALIGN="CENTER">17</TD>
<TD WIDTH="83%" VALIGN="TOP"><P ALIGN="LEFT">Стирание строки</TD>
</TR>
<TR><TD WIDTH="15%" VALIGN="TOP"><P ALIGN="CENTER">18</TD>
<TD WIDTH="83%" VALIGN="TOP"><P ALIGN="LEFT">Вывод строки на экран дисплея</TD>
</TR>
<TR><TD WIDTH="15%" VALIGN="TOP"><P ALIGN="CENTER">19</TD>
<TD WIDTH="83%" VALIGN="TOP"><P ALIGN="LEFT">Редактирование сигналов управления ПАД</TD>
</TR>
<TR><TD WIDTH="15%" VALIGN="TOP"><P ALIGN="CENTER">20</TD>
<TD WIDTH="83%" VALIGN="TOP"><P ALIGN="LEFT">Маскирование эхо-контроля</TD>
</TR>
<TR><TD WIDTH="15%" VALIGN="TOP"><P ALIGN="CENTER">21</TD>
<TD WIDTH="83%" VALIGN="TOP"><P ALIGN="LEFT">Обработка символов контроля на четность</TD>
</TR>
<TR><TD WIDTH="15%" VALIGN="TOP"><P ALIGN="CENTER">22</TD>
<TD WIDTH="83%" VALIGN="TOP"><P ALIGN="LEFT">Ожидание страницы</TD>
</TR>
</TABLE></CENTER> 

<P ALIGN="JUSTIFY">При работе TCP/IP сети через каналы X.25 и наоборот следует учитывать некоторые отличия кодов предпочтения в полях TOS. Таблица 4.3.2.9 содержит соответствие этих кодов для этих сетей.</P>

<B><P ALIGN="CENTER">Таблица 4.3.2.9</B>. Соответствие кодов TOS для сетей TCP/IP и X.25</P>

<CENTER> <TABLE BORDER=10 CELLSPACING=2 CELLPADDING=5 WIDTH=578 bgcolor="ghostwhite">
<TR><TD WIDTH="25%" VALIGN="TOP" bgcolor="gainsboro"><B><P ALIGN="CENTER">IP</B></TD>
<TD WIDTH="25%" VALIGN="TOP" bgcolor="gainsboro"><B><P ALIGN="CENTER">X.25</B></TD>
<TD WIDTH="25%" VALIGN="TOP" rules="2" bgcolor="gainsboro"><B><P ALIGN="CENTER">IP</B></TD>
<TD WIDTH="25%" VALIGN="TOP" bgcolor="gainsboro"><B><P ALIGN="CENTER">X.25</B></TD>
</TR>
<TR><TD WIDTH="25%" VALIGN="TOP"><P ALIGN="CENTER">000</TD>
<TD WIDTH="25%" VALIGN="TOP"><P ALIGN="CENTER">00</TD>
<TD WIDTH="25%" VALIGN="TOP" rules="2" ><P ALIGN="CENTER">001</TD>
<TD WIDTH="25%" VALIGN="TOP"><P ALIGN="CENTER">01</TD>
</TR>
<TR><TD WIDTH="25%" VALIGN="TOP">
<P ALIGN="CENTER">010</TD>
<TD WIDTH="25%" VALIGN="TOP">
<P ALIGN="CENTER">10</TD>
<TD WIDTH="25%" VALIGN="TOP" rules="2" >
<P ALIGN="CENTER">011 - 111</TD>
<TD WIDTH="25%" VALIGN="TOP">
<P ALIGN="CENTER">11</TD>
</TR>
</TABLE></CENTER> 

<P ALIGN="JUSTIFY">Для реализации работы сетей ISDN по существующим каналам сети X.25 разработан протокол X.31. X.31 организует канал пользователь-маршрутизатор X.25 (через посредство ISDN) и регламентирует работу ISDN с пакетами X.25.</P>

<P ALIGN="JUSTIFY">Для решения первой задачи используется сообщение SETUP. Вторая задача решается, когда канал до маршрутизатора сформирован. На этом этапе привлекается набор протоколов X.25, возможно применение протокола X.75 (ISO 8208), который является расширением X.25 для межсетевых связей.</P>





</TD></TR>

<TR bgcolor="steelblue"><TD VALIGN="TOP" bgcolor="steelblue" LINK="#0000FF"><P ALIGN="center">

<FONT color="white"><B> Previous: </B></FONT>
<A HREF="iso_431.htm" tppabs="http://book.itep.ru/4/43/iso_431.htm"><FONT COLOR="lightblue">4.3.1 Эталонная сетевая модель ISO</FONT></A>



<FONT color="white"><B> &nbsp; &nbsp;UP:</B></FONT>
<A HREF="wan_43.htm" tppabs="http://book.itep.ru/4/43/wan_43.htm"><FONT COLOR="lightblue">4.3 Региональные сети</FONT></A>


<BR>

<FONT color="white"><B>  Down:</B></FONT>
<A HREF="inter_44.htm" tppabs="http://book.itep.ru/4/44/inter_44.htm"><FONT COLOR="lightblue">4.4 Интернет</FONT></A>



<FONT color="white"><B> &nbsp; &nbsp;Next:</B></FONT>
<A HREF="isdn_433.htm" tppabs="http://book.itep.ru/4/43/isdn_433.htm"><FONT COLOR="lightblue">4.3.3 Интегрированные сети ISDN</FONT></A>

</TD>
  </TR>
</table>
</BODY>
</HTML>